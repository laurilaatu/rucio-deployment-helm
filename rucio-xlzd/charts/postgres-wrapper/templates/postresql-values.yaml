auth:
  username: {{ .Values.postgres.auth.username | quote }}
  password: {{ .Values.postgres.auth.password | quote }}
  database: {{ .Values.postgres.auth.database | quote }}

primary:
  service:
    ports:
      postgresql: {{ .Values.postgres.port | default 5432 }}

  persistence:
    {{- if .Values.postgres.persistence }} # This will be false if .Values.postgres.persistence is not defined
    enabled: {{ .Values.postgres.persistence.enabled | default false }}
    size: {{ .Values.postgres.persistence.size | default "5Gi" | quote }}
    {{- else }}
    enabled: false # <-- This will always be set if .Values.postgres.persistence is missing from your values.yaml
    size: "5Gi"
    {{- end }}

image:
  repository: "postgres"
  tag: "14"